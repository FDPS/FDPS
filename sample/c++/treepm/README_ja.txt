*コンパイル

Makefileの"FDPS_ROOT"、"PM_ROOT"と "FFTW_ROOT"を適宜編集し、makeする。
Phantom-GRAPEを使う場合はさらに "use_phantom_grape_x86=yes"にし、
かつ、"PHANTOM_ROOT"を設定する。


*使い方

パラメータファイルを作成し、ファイルの絶対PATHを第一引数として与える。

e.g.  mpiexec -n 4 treepm {パラメータファイル}


*パラメータファイルフォーマット

本サンプルコードでは、以下に示す3つのフォーマットをサポートしている。
モデル名を"foo"とすると、簡単な出力結果が"foo.diag"に、スナップショッ
トは"foo_{出力回数}"のディレクトリに"foo_{出力回数}-{プロセスランク}"と
いうファイルにプロセス数分だけ出力され、"map_2d_{出力回数}"というファ
イルにx-y平面での柱密度が出力される。

a) Santa Barbara Cluster の初期条件を読み込む場合
/////////////////
0
粒子間のソフトニング長
ツリーの見込み角
終了z
スナップショットファイル名
モデル名
スナップショット出力回数
スナップショット時刻0 スナップショット時刻1 スナップショット時刻2 ....
/////////////////
ここで、ソフトニング長はボックスサイズの1辺の長さを1とした単位で与える。
また、スナップショット時刻は redshift の値で与える。

b) Santa Barbara Cluster と同じ形式のスナップショットファイルを読み込む場合
/////////////////
1
粒子間のソフトニング長
ツリーの見込み角
終了z
スナップショットファイル名
初期z
オメガマター
オメガラムダ
オメガバリオン
オメガ輻射
ハッブル定数(km/s/Mpc)
ボックスサイズ(MPC/h)
モデル名
スナップショット出力回数
スナップショット時刻0 スナップショット時刻1 スナップショット時刻2 ....
/////////////////
ここで、ソフトニング長はボックスサイズの1辺の長さを1とした単位で与える。
また、スナップショット時刻は redshift の値で与える。

c) ランダムにおいた粒子分布でのシミュレーション
/////////////////
2
粒子間のソフトニング長
ツリーの見込み角
終了z
初期z
オメガマター
オメガラムダ
オメガバリオン
オメガ輻射
粒子数
モデル名
スナップショット出力回数
スナップショット時刻0 スナップショット時刻1 スナップショット時刻2 ....
/////////////////
ここで、ソフトニング長はボックスサイズの1辺の長さを1とした単位で与える。
また、スナップショット時刻は redshift の値で与える。
