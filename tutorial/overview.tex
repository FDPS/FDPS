
本節では、Framework for Developing Particle Simulator (FDPS)の概要につ
いて述べる。FDPSは粒子シミュレーションのコード開発を支援するフレームワー
クである。FDPSが行うのは、計算コストの最も大きな粒子間相互作用の計算と、
粒子間相互作用の計算のコストを負荷分散するための処理である。これらはマ
ルチプロセス、マルチスレッドで並列に処理することができる。比較的計算コ
ストが小さく、並列処理を必要としない処理(粒子の軌道計算など)はユーザー
が行う。

FDPSが対応している座標系は、２次元直交座標系と３次元直交座標系である。
また、境界条件としては、開放境界条件と周期境界条件に対応している。周期
境界条件の場合、$x$、 $y$、 $z$軸方向の任意の組み合わせの周期境界条件を
課すことができる。

ユーザーは粒子間相互作用の形を定義する必要がある。定義できる粒子間相互
作用の形には様々なものがある。粒子間相互作用の形を大きく分けると２種類
あり、１つは長距離力、 もう1つは短距離力である。 この2つの力は、 遠くの
複数の粒子からの作用を1つの超粒子からの作用にまとめるか(長距離力)、 ま
とめないか(短距離力)という基準でもって分類される。

長距離力には、 小分類があり、 無限遠に存在する粒子からの力も計算するカッ
トオフなし長距離力と、 ある距離以上離れた粒子からの力は計算しないカット
オフあり長距離力がある。  前者は開境界条件下における重力やクーロン力に
対して、 後者は周期境界条件下の重力やクーロン力に使うことができる。 後
者のためにはParticle Mesh法などが必要となるが、これはFDPSの拡張機能とし
て用意されている。

短距離力には、小分類が4つ存在する。短距離力の場合、粒子はある距離より離
れた粒子からの作用は受けない。すなわち必ずカットオフが存在する。 このカッ
トオフ長の決め方によって、 小分類がなされる。 すなわち、 全粒子のカット
オフ長が等しいコンスタントカーネル、 カットオフ長が作用を受ける粒子固有
の性質で決まるギャザーカーネル、 カットオフ長が作用を与える粒子固有の性
質で決まるスキャッタカーネル、 カットオフ長が作用を受ける粒子と作用を与
える粒子の両方の性質で決まるシンメトリックカーネルである。 コンスタント
カーネルは分子動力学におけるLJ力に適用でき、 その他のカーネルはSPHなど
に適用できる。

ユーザーは、粒子間相互作用や粒子の軌道積分などを、C++言語を用いて記述す
る。将来的にはFortran言語でも記述できるように検討する。
