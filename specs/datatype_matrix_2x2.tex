PS::MatrixSym2はxx, yy, xyの3要素を持つ。これらに対する様々なAPIや演算
子を定義した。それらの宣言を以下に記述する。この節ではこれらについて詳
しく記述する。
\begin{lstlisting}[caption=MatrixSym2]
namespace ParticleSimulator{
    template<class T>
    class MatrixSym2{
    public:
        // メンバ変数３要素
        T xx, yy, xy;

        // コンストラクタ
        MatrixSym2() : xx(T(0)), yy(T(0)), xy(T(0)) {}
        MatrixSym2(const T _xx, const T _yy, const T _xy)
            : xx(_xx), yy(_yy), xy(_xy) {}
        MatrixSym2(const T s) : xx(s), yy(s), xy(s){}
        MatrixSym2(const MatrixSym2 & src) : xx(src.xx), yy(src.yy), xy(src.xy) {}

        // 代入演算子
        const MatrixSym2 & operator = (const MatrixSym2 & rhs);

        // 加減算
        MatrixSym2 operator + (const MatrixSym2 & rhs) const;
        const MatrixSym2 & operator += (const MatrixSym2 & rhs) const;
        MatrixSym2 operator - (const MatrixSym2 & rhs) const;
        const MatrixSym2 & operator -= (const MatrixSym2 & rhs) const;

        // トレースの計算
        T getTrace() const;

        // MatrixSym2<U>への型変換
        template <typename U>
        operator MatrixSym2<U> () const;
    }
}
namespace PS = ParticleSimulator;
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsubsection{コンストラクタ}

\begin{screen}
\begin{verbatim}
template<typename T>
PS::MatrixSym2<T>();
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

なし。

\item{{\bf 機能}}

デフォルトコンストラクタ。メンバxx,yy,xyは0で初期化される。

\end{itemize}

\begin{screen}
\begin{verbatim}
template<typename T>
PS::MatrixSym2<T>(const T _xx,
                  const T _yy,
                  const T _xy);
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt \_xx}: 入力。{\tt const T}型。

{\tt \_yy}: 入力。{\tt const T}型。

{\tt \_xy}: 入力。{\tt const T}型。

\item{{\bf 機能}}

メンバ{\tt xx}、{\tt yy}、{\tt xy}をそれぞれ{\tt \_xx}、{\tt \_yy}、
{\tt \_xy}で初期化する。

\end{itemize}

\begin{screen}
\begin{verbatim}
template<typename T>
PS::MatrixSym2<T>(const T s);
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt s}: 入力。{\tt const T}型。

\item{{\bf 機能}}

メンバ{\tt xx}、{\tt yy}、{\tt xy}すべてを{\tt s}の値で初期化する。

\end{itemize}

\begin{screen}
\begin{verbatim}
template<typename T>
PS::MatrixSym2<T>(const PS::MatrixSym2<T> & src)
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt src}: 入力。{\tt const PS::MatrixSym2<T> \&}型。

\item{{\bf 機能}}

コピーコンストラクタ。{\tt src}で初期化する。

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsubsection{代入演算子}

\begin{screen}
\begin{verbatim}
template<typename T>
const PS::MatrixSym2<T> & PS::MatrixSym2<T>::operator = 
                       (const PS::MatrixSym2<T> & rhs);
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt rhs}: 入力。{\tt const PS::MatrixSym2<T> \&}型。

\item{{\bf 返り値}}

{\tt const PS::MatrixSym2<T> \&}型。{\tt rhs}のxx,yy,xyの値を自身のメ
ンバxx,yy,xyに代入し自身の参照を返す。代入演算子。

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsubsection{加減算}

\begin{screen}
\begin{verbatim}
template<typename T>
PS::MatrixSym2<T> PS::MatrixSym2<T>::operator + 
               (const PS::MatrixSym2<T> & rhs) const;
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt rhs}: 入力。{\tt const PS::MatrixSym2<T> \&}型。

\item{{\bf 返り値}}

{\tt PS::MatrixSym2<T> }型。{\tt rhs}のxx,yy,xyの値と自身のメンバ
xx,yy,xyの値の和を取った値を返す。

\end{itemize}

\begin{screen}
\begin{verbatim}
template<typename T>
const PS::MatrixSym2<T> & PS::MatrixSym2<T>::operator += 
                       (const PS::MatrixSym2<T> & rhs);
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt rhs}: 入力。{\tt const PS::MatrixSym2<T> \&}型。

\item{{\bf 返り値}}

{\tt const PS::MatrixSym2<T> \&}型。{\tt rhs}のxx,yy,xyの値を自身のメ
ンバxx,yy,xyに足し、自身を返す。

\end{itemize}

\begin{screen}
\begin{verbatim}
template<typename T>
PS::MatrixSym2<T> PS::MatrixSym2<T>::operator - 
               (const PS::MatrixSym2<T> & rhs) const;
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt rhs}: 入力。{\tt const PS::MatrixSym2<T> \&}型。

\item{{\bf 返り値}}

{\tt PS::MatrixSym2<T> }型。{\tt rhs}のxx,yy,xyの値と自身のメンバ
xx,yy,xyの値の差を取った値を返す。

\end{itemize}

\begin{screen}
\begin{verbatim}
template<typename T>
const PS::MatrixSym2<T> & PS::MatrixSym2<T>::operator -= 
                       (const PS::MatrixSym2<T> & rhs);
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

{\tt rhs}: 入力。{\tt const PS::MatrixSym2<T> \&}型。

\item{{\bf 返り値}}

{\tt const PS::MatrixSym2<T> \&}型。自身のメンバxx,yy,xyから{\tt rhs}
のxx,yy,xyを引き自身を返す。

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsubsection{トレースの計算}

\begin{screen}
\begin{verbatim}
template<typename T>
T PS::MatrixSym2<T>::getTrace() const;
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

なし

\item{{\bf 返り値}}

{\tt T}型。

\item{{\bf 機能}}

  トレースを計算し、その結果を返す。

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsubsection{{\tt MatrixSym2<U>}への型変換}

\begin{screen}
\begin{verbatim}
template<typename T>
template<typename U>
PS::MatrixSym2<T>::operator PS::MatrixSym2<U> () const;
\end{verbatim}
\end{screen}

\begin{itemize}

\item{{\bf 引数}}

  なし。

\item{{\bf 返り値}}

{\tt const PS::MatrixSym2<U>}型。

\item{{\bf 機能}}

\redtext{{\tt const PS::MatrixSym2<T>}型を{\tt const
    PS::MatrixSym2<U>}型にキャストする}

\end{itemize}

