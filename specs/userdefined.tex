\subsection{概要}

本節では、ユーザーが定義するクラスとファンクタについて記述する。ユーザー
定義クラスとなるのは、粒子の情報すべてを持つFullParticleクラス、ある相
互作用を計算する際にi粒子に必要な情報を持つEssentialParticleIクラス、
ある相互作用を計算する際にj粒子に必要な情報を持つEssentialParticleJク
ラス、ある相互作用(SEARCH\_MODE型がSEARCH\_MODE\_LONGまたは
SEARCH\_MODE\_LONG\_CUTOFFの場合に限る)を計算する際に超粒子に必要な情
報を持つSuperParticleJクラス、ツリーセルのモーメント情報を持つMomentク
ラス、相互作用の結果の情報を持つForceクラス、入出力ファイルのヘッダ情
報を持つヘッダクラスである。また、ユーザー定義ファンクタには、j粒子か
らi粒子への作用を計算するcalcForceEpEpファンクタ、超粒子からi粒子への
作用を計算するcalcForceSpEpファンクタがある。

この節で記述するのは、これらのクラスに関する規定である。ユーザーはこれ
らのクラスの間でのデータのやりとりや、ファンクタ内でのデータの加工につ
いてコードに書く必要がある。これらは上に挙げたクラスとファンクタのメン
バ関数内で行われる。以下、必要なメンバ関数とその規定について記述する。

\subsection{FullParticleクラス}
\label{sec:fullparticle}

\input{userdefined_fullparticle.tex}

\subsection{EssentialParticleIクラス}
\label{sec:essentialparticlei}

\input{userdefined_essentialparticlei.tex}

\subsection{EssentialParticleJクラス}
\label{sec:essentialparticlej}

\input{userdefined_essentialparticlej.tex}

\subsection{SuperParticleJクラス}
\label{sec:superparticlej}

\input{userdefined_superparticlej.tex}

\subsection{Momentクラス}
\label{sec:moment}

\input{userdefined_moment.tex}

\subsection{Forceクラス}
\label{sec:force}

\input{userdefined_force.tex}

\subsection{ヘッダクラス}

\subsubsection{概要}

\subsubsection{必要なメンバ関数}

\subsubsubsection{概要}

\subsubsection{場合によっては必要なメンバ関数}

\subsubsubsection{概要}

\subsubsubsection{readParticleAscii}

\subsubsubsection{readParticleBinary}

\subsubsubsection{writeParticleAscii}

\subsubsubsection{writeParticleBinary}

\subsection{calcForceEpEpファンクタ}

\subsection{calcForceSpEpファンクタ}
